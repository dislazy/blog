{"title":"Mybatis中SQL的语句总结","slug":"Mybatis中SQL的语句总结","date":"2018-10-14T05:51:59.000Z","updated":"2022-06-02T01:05:59.614Z","comments":true,"path":"api/articles/Mybatis中SQL的语句总结.json","excerpt":" 建表 [Figure] ","covers":["https://imagecdn.bosong.online/image/ql5s4mlljmikmqu7cq4vvsicg8.jpg","https://imagecdn.bosong.online/image/shtp70omh0jbjp3a12711fce4p.jpg","https://imagecdn.bosong.online/image/oo9dhunclgjjfrq8m3e9hg1lbh.jpg","https://imagecdn.bosong.online/image/1ne61b8t7uhfaqo5q534n4rnkj.jpg","https://imagecdn.bosong.online/image/44dolmh3jeg6lrkuapi6gnkobd.jpg","https://imagecdn.bosong.online/image/3fj4sg4faegntofiqlluecv24a.jpg","https://imagecdn.bosong.online/image/3voe13671agvjoqoncartggss5.jpg","https://imagecdn.bosong.online/image/2uvi77lj42jl9ptaokrsg646n4.jpg","https://imagecdn.bosong.online/image/4hmmv94nr2hajo7ovhh98ocf7q.jpg","https://imagecdn.bosong.online/image/sdrp3106rog6qo7gnqillem1mv.jpg","https://imagecdn.bosong.online/image/4l6k5sckh8h1cq74lk2hqerfvt.jpg","https://imagecdn.bosong.online/image/777i4ihc7sggkpjvnj8894ugd5.jpg"],"content":"<p> 建表</p>\n<p><img src=\"https://imagecdn.bosong.online/image/ql5s4mlljmikmqu7cq4vvsicg8.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/ql5s4mlljmikmqu7cq4vvsicg8.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"建表图\"></p>\n<p>查询</p>\n<ul>\n<li>简单查询</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/shtp70omh0jbjp3a12711fce4p.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/shtp70omh0jbjp3a12711fce4p.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单查询\"></p>\n<p><strong>注意：</strong>如果这里不指定parameterType，则默认会识别处理；如果指定了类型，则传入的值就需要和当前指定的类型保持一致，不然就会出现数据类型转换异常。</p>\n<ul>\n<li>简单分页查询</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/oo9dhunclgjjfrq8m3e9hg1lbh.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/oo9dhunclgjjfrq8m3e9hg1lbh.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单分页查询\"></p>\n<ul>\n<li>left join</li>\n</ul>\n<p>app_info表和app_verion表分别存储的是应用信息和应用版本信息。现在要根据appId和versionId查出一个应用的具体信息【包括信息信息和版本信息】</p>\n<p><img src=\"https://imagecdn.bosong.online/image/1ne61b8t7uhfaqo5q534n4rnkj.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/1ne61b8t7uhfaqo5q534n4rnkj.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"连接查询\"></p>\n<ul>\n<li>批量查询</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/44dolmh3jeg6lrkuapi6gnkobd.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/44dolmh3jeg6lrkuapi6gnkobd.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"批量查询\"></p>\n<p>更新</p>\n<ul>\n<li>简单更新</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/3fj4sg4faegntofiqlluecv24a.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/3fj4sg4faegntofiqlluecv24a.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单更新\"></p>\n<ul>\n<li>批量更新</li>\n</ul>\n<p>有这样一个需求，把 app_info表中id 为1，2，3的app的app_name改为appName1，appName2，appName3;使用 case ..when ..then 这样的语法结构来完成：<br>    case 是当前的条件，when表示条件值，then后面是当前目前更新字段的值；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下面的说明：当前id=#&#123;item.appId&#125;时,app_name=#&#123;item.appName&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://imagecdn.bosong.online/image/3voe13671agvjoqoncartggss5.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/3voe13671agvjoqoncartggss5.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"批量更新\"></p>\n<p>还有这样的需要：</p>\n<p>根据应用类型的不同，更新不同的运行环境配置；</p>\n<p><img src=\"https://imagecdn.bosong.online/image/2uvi77lj42jl9ptaokrsg646n4.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/2uvi77lj42jl9ptaokrsg646n4.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"嵌套更新\"></p>\n<p>trim属性说明</p>\n<ul>\n<li><p>1.prefix,suffix 表示在trim标签包裹的部分的前面或者后面添加内容</p>\n</li>\n<li><p>2.如果同时有prefixOverrides,suffixOverrides 表示会用prefix,suffix覆盖Overrides中的内容。</p>\n</li>\n<li><p>3.如果只有prefixOverrides,suffixOverrides 表示删除开头的或结尾的xxxOverides指定的内容.</p>\n</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/4hmmv94nr2hajo7ovhh98ocf7q.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/4hmmv94nr2hajo7ovhh98ocf7q.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"删除\"></p>\n<p>删除</p>\n<ul>\n<li>简单删除</li>\n</ul>\n<p><code>DELETE FROM app_info where id = #&#123;id&#125;</code></p>\n<ul>\n<li>批量删除</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/sdrp3106rog6qo7gnqillem1mv.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/sdrp3106rog6qo7gnqillem1mv.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"删除\"></p>\n<p>时间字符串 order by</p>\n<p>有这样一种情况，在项目中将时间用字符串的方式存在DB中，而不是使用DATE,然后需要按照时间来排序….</p>\n<p><img src=\"https://imagecdn.bosong.online/image/4l6k5sckh8h1cq74lk2hqerfvt.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/4l6k5sckh8h1cq74lk2hqerfvt.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"按时间排序\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">字符串转为日期格式 SELECT DATE_FORMAT(&#x27;2011-09-20 08:30:45&#x27;, &#x27;%Y-%m-%d %H:%i:%S&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">把日期转为字符串格式 SELECT DATE_FORMAT(NOW(), &#x27;%Y-%m-%d %H:%i:%S&#x27;);</span><br></pre></td></tr></table></figure>\n<p>附件：</p>\n<p><img src=\"https://imagecdn.bosong.online/image/777i4ihc7sggkpjvnj8894ugd5.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/777i4ihc7sggkpjvnj8894ugd5.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"附件\"></p>\n<p>转自<a href=\"https://www.toutiao.com/a6575727316167557646/\">https://www.toutiao.com/a6575727316167557646/</a></p>\n\n","more":"\n<p>查询</p>\n<ul>\n<li>简单查询</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/shtp70omh0jbjp3a12711fce4p.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/shtp70omh0jbjp3a12711fce4p.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单查询\"></p>\n<p><strong>注意：</strong>如果这里不指定parameterType，则默认会识别处理；如果指定了类型，则传入的值就需要和当前指定的类型保持一致，不然就会出现数据类型转换异常。</p>\n<ul>\n<li>简单分页查询</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/oo9dhunclgjjfrq8m3e9hg1lbh.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/oo9dhunclgjjfrq8m3e9hg1lbh.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单分页查询\"></p>\n<ul>\n<li>left join</li>\n</ul>\n<p>app_info表和app_verion表分别存储的是应用信息和应用版本信息。现在要根据appId和versionId查出一个应用的具体信息【包括信息信息和版本信息】</p>\n<p><img src=\"https://imagecdn.bosong.online/image/1ne61b8t7uhfaqo5q534n4rnkj.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/1ne61b8t7uhfaqo5q534n4rnkj.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"连接查询\"></p>\n<ul>\n<li>批量查询</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/44dolmh3jeg6lrkuapi6gnkobd.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/44dolmh3jeg6lrkuapi6gnkobd.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"批量查询\"></p>\n<p>更新</p>\n<ul>\n<li>简单更新</li>\n</ul>\n<p> <img src=\"https://imagecdn.bosong.online/image/3fj4sg4faegntofiqlluecv24a.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/3fj4sg4faegntofiqlluecv24a.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"简单更新\"></p>\n<ul>\n<li>批量更新</li>\n</ul>\n<p>有这样一个需求，把 app_info表中id 为1，2，3的app的app_name改为appName1，appName2，appName3;使用 case ..when ..then 这样的语法结构来完成：<br>    case 是当前的条件，when表示条件值，then后面是当前目前更新字段的值；</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">下面的说明：当前id=#&#123;item.appId&#125;时,app_name=#&#123;item.appName&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://imagecdn.bosong.online/image/3voe13671agvjoqoncartggss5.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/3voe13671agvjoqoncartggss5.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"批量更新\"></p>\n<p>还有这样的需要：</p>\n<p>根据应用类型的不同，更新不同的运行环境配置；</p>\n<p><img src=\"https://imagecdn.bosong.online/image/2uvi77lj42jl9ptaokrsg646n4.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/2uvi77lj42jl9ptaokrsg646n4.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"嵌套更新\"></p>\n<p>trim属性说明</p>\n<ul>\n<li><p>1.prefix,suffix 表示在trim标签包裹的部分的前面或者后面添加内容</p>\n</li>\n<li><p>2.如果同时有prefixOverrides,suffixOverrides 表示会用prefix,suffix覆盖Overrides中的内容。</p>\n</li>\n<li><p>3.如果只有prefixOverrides,suffixOverrides 表示删除开头的或结尾的xxxOverides指定的内容.</p>\n</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/4hmmv94nr2hajo7ovhh98ocf7q.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/4hmmv94nr2hajo7ovhh98ocf7q.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"删除\"></p>\n<p>删除</p>\n<ul>\n<li>简单删除</li>\n</ul>\n<p><code>DELETE FROM app_info where id = #&#123;id&#125;</code></p>\n<ul>\n<li>批量删除</li>\n</ul>\n<p><img src=\"https://imagecdn.bosong.online/image/sdrp3106rog6qo7gnqillem1mv.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/sdrp3106rog6qo7gnqillem1mv.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"删除\"></p>\n<p>时间字符串 order by</p>\n<p>有这样一种情况，在项目中将时间用字符串的方式存在DB中，而不是使用DATE,然后需要按照时间来排序….</p>\n<p><img src=\"https://imagecdn.bosong.online/image/4l6k5sckh8h1cq74lk2hqerfvt.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/4l6k5sckh8h1cq74lk2hqerfvt.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"按时间排序\"></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">字符串转为日期格式 SELECT DATE_FORMAT(&#x27;2011-09-20 08:30:45&#x27;, &#x27;%Y-%m-%d %H:%i:%S&#x27;);</span><br><span class=\"line\"></span><br><span class=\"line\">把日期转为字符串格式 SELECT DATE_FORMAT(NOW(), &#x27;%Y-%m-%d %H:%i:%S&#x27;);</span><br></pre></td></tr></table></figure>\n<p>附件：</p>\n<p><img src=\"https://imagecdn.bosong.online/image/777i4ihc7sggkpjvnj8894ugd5.jpg\" class=\"lazyload\" data-srcset=\"https://imagecdn.bosong.online/image/777i4ihc7sggkpjvnj8894ugd5.jpg\" srcset=\"data:image/gif;base64,R0lGODlhAQABAIAAAP///////yH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\" alt=\"附件\"></p>\n<p>转自<a href=\"https://www.toutiao.com/a6575727316167557646/\">https://www.toutiao.com/a6575727316167557646/</a></p>\n\n","categories":[{"name":"Java","path":"api/categories/Java.json"}],"tags":[{"name":"mybaties","path":"api/tags/mybaties.json"}]}