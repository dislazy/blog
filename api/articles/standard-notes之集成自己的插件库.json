{"title":"standard-notes之集成自己的插件库","slug":"standard-notes之集成自己的插件库","date":"2021-07-16T14:58:49.000Z","updated":"2022-06-02T01:05:59.616Z","comments":true,"path":"api/articles/standard-notes之集成自己的插件库.json","excerpt":"前言上一篇文章写了怎么部署standardnotes的自建笔记本，在使用过程中发现还需要很多的插件来配合更好的使用standardnotes,来做数据备份以及更好的编辑文档。<br>standardnotes的插件是可插拔的，简而言之就是将静态页面加载到页面中，来使用其中的功能，达到增强的目的。","covers":null,"content":"<h3 id=\"前言\"><a href=\"#前言\" class=\"headerlink\" title=\"前言\"></a>前言</h3><p>上一篇文章写了怎么部署standardnotes的自建笔记本，在使用过程中发现还需要很多的插件来配合更好的使用standardnotes,来做数据备份以及更好的编辑文档。<br>standardnotes的插件是可插拔的，简而言之就是将静态页面加载到页面中，来使用其中的功能，达到增强的目的。</p>\n<h3 id=\"关于\"><a href=\"#关于\" class=\"headerlink\" title=\"关于\"></a>关于</h3><p>standardnotes 作为开源软件和服务提供商，它本身的写笔记和同步笔记是不收费的，提供了mac&#x2F;win的客户端和web端应用，所以多端同步是它最大的优势之一，但它对于插件是使用的收费订阅的模式，每个月基本在3美金以内，但是我都自建服务了，<br>为啥还需要去用它本身的服务了，所以参考了一些文档，调查了一些插件的接入步骤，陆续接入了很多插件。</p>\n<h3 id=\"接入插件步骤\"><a href=\"#接入插件步骤\" class=\"headerlink\" title=\"接入插件步骤\"></a>接入插件步骤</h3><h4 id=\"查看对应的插件接入文档\"><a href=\"#查看对应的插件接入文档\" class=\"headerlink\" title=\"查看对应的插件接入文档\"></a>查看对应的插件接入文档</h4><p>作为开发人员，一般了解到一个不太熟悉的内容，或者需要接入某些组件，第一件事就是查看对应的文档，自己了解到一些细节点，文档地址：<a href=\"https://docs.standardnotes.org/extensions/intro/\">https://docs.standardnotes.org/extensions/intro/</a></p>\n<h4 id=\"查看github上大牛帮你收集好的插件集合\"><a href=\"#查看github上大牛帮你收集好的插件集合\" class=\"headerlink\" title=\"查看github上大牛帮你收集好的插件集合\"></a>查看github上大牛帮你收集好的插件集合</h4><p>github上有很多各种领域的大牛，能让你减少很多的收集软件的时间，这个大牛将standardnotes的一些常用的组件都进行了收集，并且还写成了脚本帮助我们将对应的插件一次性生成到某个地方，来供我们直接使用，减去很多繁琐的步骤，大牛对应的github地址：<a href=\"https://github.com/iganeshk/standardnotes-extensions\">https://github.com/iganeshk/standardnotes-extensions</a> 。<br>由于大牛的仓库没有及时更新，所以我根据最新的版本库，fork了一下大牛的仓库并且完成了对应的最新适配：<a href=\"https://github.com/dislazy/standardnotes-extensions\">https://github.com/dislazy/standardnotes-extensions</a> 可以直接使用我fork的仓库，下面的文档基于dislazy的仓库进行构建过程</p>\n<h4 id=\"拉取github的代码并且生成对应的插件文件夹\"><a href=\"#拉取github的代码并且生成对应的插件文件夹\" class=\"headerlink\" title=\"拉取github的代码并且生成对应的插件文件夹\"></a>拉取github的代码并且生成对应的插件文件夹</h4><ul>\n<li>查看 <a href=\"https://docs.standardnotes.org/extensions/intro/\">插件接入文档</a> 了解插入的接入方式</li>\n<li>查看 github上集成对应插件的<a href=\"https://github.com/dislazy/standardnotes-extensions\">文档</a> </li>\n<li>将对应github的代码拉取到本地服务器中，然后以<code>env.simple</code>文件作为模板，创建自己的插件生成配置，包括插件的对应域名和你的github-token，github-token用于拉取githun上的代码时不受速度等的限制</li>\n<li>创建并配置好<code>.env</code>文件后，我是直接运行docker生成对应的public的插件文件夹，运行在插件文件夹中运行<code>docker run -v $PWD/.env:/build/.env -v $PWD/extensions:/build/extensions -v $PWD/public:/build/public mtoohey/standardnotes-extensions</code> </li>\n<li>当public文件夹配置完成了之后，直接将之前配置过sync服务器对应的反向代理配置一下即可，代码块中是nginx的配置文件。</li>\n<li>当配置完成了重新reload一下nginx的配置文件完成配置，直接可以在网页中应用了。<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">location ^~ /extensions &#123;</span><br><span class=\"line\">\t\tautoindex off;</span><br><span class=\"line\">\t\talias /path/to/standardnotes-extensions/public;  -- 此处修改为你自己的public路径即可</span><br><span class=\"line\">\t\t# CORS HEADERS</span><br><span class=\"line\">\t\tif ($request_method = &#x27;OPTIONS&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   # Custom headers and headers various browsers *should* be OK with but aren&#x27;t</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   # Tell client that this pre-flight info is valid for 20 days</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Max-Age&#x27; 1728000;</span><br><span class=\"line\">\t\t   add_header &#x27;Content-Type&#x27; &#x27;text/plain; charset=utf-8&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Content-Length&#x27; 0;</span><br><span class=\"line\">\t\t   return 204;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif ($request_method = &#x27;POST&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Expose-Headers&#x27; &#x27;Content-Length,Content-Range&#x27;;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif ($request_method = &#x27;GET&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Expose-Headers&#x27; &#x27;Content-Length,Content-Range&#x27;;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"需要注意的点\"><a href=\"#需要注意的点\" class=\"headerlink\" title=\"需要注意的点\"></a>需要注意的点</h4><ul>\n<li>按需在<code>extensions-reposity</code>文件夹中选择合适的插件配置复制到<code>extension</code> 文件夹中，尽量按需选用，否则构建的时间会很长</li>\n<li>在yaml文件中有一项配置<code>github: sn-extensions/xxxx</code> 中的<code>sn-extensions</code>地址已被官方修改为：<code>standardnotes</code>即可，在dislazy仓库中已被修复</li>\n<li>由于大牛的更新不是特别及时，所以很多插件的版本比较过时，或者插件被原作者删除，及时根据对应的github地址去看看release版本，将插件的版本更新最新的版本</li>\n<li>可以在github上的<code>standardnotes</code>组织中找到一些未被收录的其他好用的插件，集成到你的插件库中，根据文档：<a href=\"https://docs.standardnotes.org/extensions/intro/\">https://docs.standardnotes.org/extensions/intro/</a> 进行操作</li>\n</ul>\n<h3 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h3><p>我的插件库主要是将markdown的编辑器，以及推送github的插件集成了，为了更好的编辑文档和推送文档更新。尤其对github推送点赞，直接一键推送，真的太棒了。<br>如果有更好用的插件库或者插件，欢迎给我推荐，如果想要联系我，也可以直接给我发邮件：<a href=\"mailto:&#x73;&#x6f;&#110;&#x67;&#98;&#111;&#x32;&#48;&#x32;&#x31;&#64;&#x6f;&#117;&#116;&#x6c;&#111;&#111;&#107;&#46;&#99;&#111;&#109;\">&#x73;&#x6f;&#110;&#x67;&#98;&#111;&#x32;&#48;&#x32;&#x31;&#64;&#x6f;&#117;&#116;&#x6c;&#111;&#111;&#107;&#46;&#99;&#111;&#109;</a>。</p>\n\n","more":"\n<h3 id=\"关于\"><a href=\"#关于\" class=\"headerlink\" title=\"关于\"></a>关于</h3><p>standardnotes 作为开源软件和服务提供商，它本身的写笔记和同步笔记是不收费的，提供了mac&#x2F;win的客户端和web端应用，所以多端同步是它最大的优势之一，但它对于插件是使用的收费订阅的模式，每个月基本在3美金以内，但是我都自建服务了，<br>为啥还需要去用它本身的服务了，所以参考了一些文档，调查了一些插件的接入步骤，陆续接入了很多插件。</p>\n<h3 id=\"接入插件步骤\"><a href=\"#接入插件步骤\" class=\"headerlink\" title=\"接入插件步骤\"></a>接入插件步骤</h3><h4 id=\"查看对应的插件接入文档\"><a href=\"#查看对应的插件接入文档\" class=\"headerlink\" title=\"查看对应的插件接入文档\"></a>查看对应的插件接入文档</h4><p>作为开发人员，一般了解到一个不太熟悉的内容，或者需要接入某些组件，第一件事就是查看对应的文档，自己了解到一些细节点，文档地址：<a href=\"https://docs.standardnotes.org/extensions/intro/\">https://docs.standardnotes.org/extensions/intro/</a></p>\n<h4 id=\"查看github上大牛帮你收集好的插件集合\"><a href=\"#查看github上大牛帮你收集好的插件集合\" class=\"headerlink\" title=\"查看github上大牛帮你收集好的插件集合\"></a>查看github上大牛帮你收集好的插件集合</h4><p>github上有很多各种领域的大牛，能让你减少很多的收集软件的时间，这个大牛将standardnotes的一些常用的组件都进行了收集，并且还写成了脚本帮助我们将对应的插件一次性生成到某个地方，来供我们直接使用，减去很多繁琐的步骤，大牛对应的github地址：<a href=\"https://github.com/iganeshk/standardnotes-extensions\">https://github.com/iganeshk/standardnotes-extensions</a> 。<br>由于大牛的仓库没有及时更新，所以我根据最新的版本库，fork了一下大牛的仓库并且完成了对应的最新适配：<a href=\"https://github.com/dislazy/standardnotes-extensions\">https://github.com/dislazy/standardnotes-extensions</a> 可以直接使用我fork的仓库，下面的文档基于dislazy的仓库进行构建过程</p>\n<h4 id=\"拉取github的代码并且生成对应的插件文件夹\"><a href=\"#拉取github的代码并且生成对应的插件文件夹\" class=\"headerlink\" title=\"拉取github的代码并且生成对应的插件文件夹\"></a>拉取github的代码并且生成对应的插件文件夹</h4><ul>\n<li>查看 <a href=\"https://docs.standardnotes.org/extensions/intro/\">插件接入文档</a> 了解插入的接入方式</li>\n<li>查看 github上集成对应插件的<a href=\"https://github.com/dislazy/standardnotes-extensions\">文档</a> </li>\n<li>将对应github的代码拉取到本地服务器中，然后以<code>env.simple</code>文件作为模板，创建自己的插件生成配置，包括插件的对应域名和你的github-token，github-token用于拉取githun上的代码时不受速度等的限制</li>\n<li>创建并配置好<code>.env</code>文件后，我是直接运行docker生成对应的public的插件文件夹，运行在插件文件夹中运行<code>docker run -v $PWD/.env:/build/.env -v $PWD/extensions:/build/extensions -v $PWD/public:/build/public mtoohey/standardnotes-extensions</code> </li>\n<li>当public文件夹配置完成了之后，直接将之前配置过sync服务器对应的反向代理配置一下即可，代码块中是nginx的配置文件。</li>\n<li>当配置完成了重新reload一下nginx的配置文件完成配置，直接可以在网页中应用了。<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">location ^~ /extensions &#123;</span><br><span class=\"line\">\t\tautoindex off;</span><br><span class=\"line\">\t\talias /path/to/standardnotes-extensions/public;  -- 此处修改为你自己的public路径即可</span><br><span class=\"line\">\t\t# CORS HEADERS</span><br><span class=\"line\">\t\tif ($request_method = &#x27;OPTIONS&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   # Custom headers and headers various browsers *should* be OK with but aren&#x27;t</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   # Tell client that this pre-flight info is valid for 20 days</span><br><span class=\"line\">\t\t   #</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Max-Age&#x27; 1728000;</span><br><span class=\"line\">\t\t   add_header &#x27;Content-Type&#x27; &#x27;text/plain; charset=utf-8&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Content-Length&#x27; 0;</span><br><span class=\"line\">\t\t   return 204;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif ($request_method = &#x27;POST&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Expose-Headers&#x27; &#x27;Content-Length,Content-Range&#x27;;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t\tif ($request_method = &#x27;GET&#x27;) &#123;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Origin&#x27; &#x27;*&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Methods&#x27; &#x27;GET, POST, OPTIONS&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Allow-Headers&#x27; &#x27;DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range&#x27;;</span><br><span class=\"line\">\t\t   add_header &#x27;Access-Control-Expose-Headers&#x27; &#x27;Content-Length,Content-Range&#x27;;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h4 id=\"需要注意的点\"><a href=\"#需要注意的点\" class=\"headerlink\" title=\"需要注意的点\"></a>需要注意的点</h4><ul>\n<li>按需在<code>extensions-reposity</code>文件夹中选择合适的插件配置复制到<code>extension</code> 文件夹中，尽量按需选用，否则构建的时间会很长</li>\n<li>在yaml文件中有一项配置<code>github: sn-extensions/xxxx</code> 中的<code>sn-extensions</code>地址已被官方修改为：<code>standardnotes</code>即可，在dislazy仓库中已被修复</li>\n<li>由于大牛的更新不是特别及时，所以很多插件的版本比较过时，或者插件被原作者删除，及时根据对应的github地址去看看release版本，将插件的版本更新最新的版本</li>\n<li>可以在github上的<code>standardnotes</code>组织中找到一些未被收录的其他好用的插件，集成到你的插件库中，根据文档：<a href=\"https://docs.standardnotes.org/extensions/intro/\">https://docs.standardnotes.org/extensions/intro/</a> 进行操作</li>\n</ul>\n<h3 id=\"结语\"><a href=\"#结语\" class=\"headerlink\" title=\"结语\"></a>结语</h3><p>我的插件库主要是将markdown的编辑器，以及推送github的插件集成了，为了更好的编辑文档和推送文档更新。尤其对github推送点赞，直接一键推送，真的太棒了。<br>如果有更好用的插件库或者插件，欢迎给我推荐，如果想要联系我，也可以直接给我发邮件：<a href=\"mailto:&#x73;&#x6f;&#110;&#x67;&#98;&#111;&#x32;&#48;&#x32;&#x31;&#64;&#x6f;&#117;&#116;&#x6c;&#111;&#111;&#107;&#46;&#99;&#111;&#109;\">&#x73;&#x6f;&#110;&#x67;&#98;&#111;&#x32;&#48;&#x32;&#x31;&#64;&#x6f;&#117;&#116;&#x6c;&#111;&#111;&#107;&#46;&#99;&#111;&#109;</a>。</p>\n\n","categories":[{"name":"Docker","path":"api/categories/Docker.json"}],"tags":[{"name":"Docker","path":"api/tags/Docker.json"},{"name":"Note","path":"api/tags/Note.json"}]}