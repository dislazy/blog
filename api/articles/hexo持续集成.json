{"title":"hexo持续集成","slug":"hexo持续集成","date":"2019-01-04T03:04:49.000Z","updated":"2022-06-02T01:05:59.615Z","comments":true,"path":"api/articles/hexo持续集成.json","excerpt":"申请注册coding，然后通过coding升级至腾讯云开发者平台https://feedback.coding.net/topics/7257","covers":null,"content":"<h3 id=\"申请注册coding，然后通过coding升级至腾讯云开发者平台\"><a href=\"#申请注册coding，然后通过coding升级至腾讯云开发者平台\" class=\"headerlink\" title=\"申请注册coding，然后通过coding升级至腾讯云开发者平台\"></a>申请注册coding，然后通过coding升级至腾讯云开发者平台</h3><p><a href=\"https://feedback.coding.net/topics/7257\">https://feedback.coding.net/topics/7257</a></p>\n<h3 id=\"新建仓库后开通持续集成功能\"><a href=\"#新建仓库后开通持续集成功能\" class=\"headerlink\" title=\"新建仓库后开通持续集成功能\"></a>新建仓库后开通持续集成功能</h3><p>将hexo的源代码提交至coding仓库，然后选择持续集成，进行配置，简单配置如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent &#123;</span><br><span class=\"line\">        label &quot;node-8&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stages  &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        stage(&quot;检出&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh &#x27;ci-init&#x27;</span><br><span class=\"line\">                checkout(</span><br><span class=\"line\">                  [$class: &#x27;GitSCM&#x27;, branches: [[name: env.GIT_BUILD_REF]], </span><br><span class=\"line\">                  userRemoteConfigs: [[url: env.GIT_REPO_URL]]]</span><br><span class=\"line\">                )</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;构建&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;构建中...&quot;</span><br><span class=\"line\">                sh &#x27;node -v&#x27;</span><br><span class=\"line\">                sh &#x27;npm install hexo-cli -g&#x27;</span><br><span class=\"line\">                sh &#x27;npm install&#x27;</span><br><span class=\"line\">                sh &#x27;hexo clean&#x27;</span><br><span class=\"line\">                sh &#x27;hexo g&#x27;</span><br><span class=\"line\">                sh &#x27;hexo d&#x27;</span><br><span class=\"line\">                echo &quot;构建完成.&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;测试&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;单元测试中...&quot;</span><br><span class=\"line\">                echo &quot;单元测试完成.&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;部署&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;部署中...&quot;</span><br><span class=\"line\">                echo &quot;部署完成&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;\t\t\t\t\t\t</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"选择相应分支，然后提交代码\"><a href=\"#选择相应分支，然后提交代码\" class=\"headerlink\" title=\"选择相应分支，然后提交代码\"></a>选择相应分支，然后提交代码</h3><p>大功告成，每次需要部署时候直接提交代码即可。</p>\n\n","more":"\n<h3 id=\"新建仓库后开通持续集成功能\"><a href=\"#新建仓库后开通持续集成功能\" class=\"headerlink\" title=\"新建仓库后开通持续集成功能\"></a>新建仓库后开通持续集成功能</h3><p>将hexo的源代码提交至coding仓库，然后选择持续集成，进行配置，简单配置如下：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">pipeline &#123;</span><br><span class=\"line\">    agent &#123;</span><br><span class=\"line\">        label &quot;node-8&quot;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    stages  &#123;</span><br><span class=\"line\">        </span><br><span class=\"line\">        stage(&quot;检出&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                sh &#x27;ci-init&#x27;</span><br><span class=\"line\">                checkout(</span><br><span class=\"line\">                  [$class: &#x27;GitSCM&#x27;, branches: [[name: env.GIT_BUILD_REF]], </span><br><span class=\"line\">                  userRemoteConfigs: [[url: env.GIT_REPO_URL]]]</span><br><span class=\"line\">                )</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;构建&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;构建中...&quot;</span><br><span class=\"line\">                sh &#x27;node -v&#x27;</span><br><span class=\"line\">                sh &#x27;npm install hexo-cli -g&#x27;</span><br><span class=\"line\">                sh &#x27;npm install&#x27;</span><br><span class=\"line\">                sh &#x27;hexo clean&#x27;</span><br><span class=\"line\">                sh &#x27;hexo g&#x27;</span><br><span class=\"line\">                sh &#x27;hexo d&#x27;</span><br><span class=\"line\">                echo &quot;构建完成.&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;测试&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;单元测试中...&quot;</span><br><span class=\"line\">                echo &quot;单元测试完成.&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        stage(&quot;部署&quot;) &#123;</span><br><span class=\"line\">            steps &#123;</span><br><span class=\"line\">                echo &quot;部署中...&quot;</span><br><span class=\"line\">                echo &quot;部署完成&quot;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;\t\t\t\t\t\t</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"选择相应分支，然后提交代码\"><a href=\"#选择相应分支，然后提交代码\" class=\"headerlink\" title=\"选择相应分支，然后提交代码\"></a>选择相应分支，然后提交代码</h3><p>大功告成，每次需要部署时候直接提交代码即可。</p>\n\n","categories":[{"name":"技术手册","path":"api/categories/技术手册.json"}],"tags":[{"name":"hexo","path":"api/tags/hexo.json"}]}