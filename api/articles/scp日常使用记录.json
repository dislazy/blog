{"title":"scp日常使用记录","slug":"scp日常使用记录","date":"2021-05-06T09:48:16.000Z","updated":"2022-06-02T01:05:59.616Z","comments":true,"path":"api/articles/scp日常使用记录.json","excerpt":"scp 在平常会比较常用，所以记录一下对应的基本使用方法。","covers":null,"content":"<p><code>scp</code> 在平常会比较常用，所以记录一下对应的基本使用方法。</p>\n<span id=\"more\"></span>\n\n<div class=\"story post-story\"><h2 id=\"scp-命令介绍\"><a href=\"#scp-命令介绍\" class=\"headerlink\" title=\"scp 命令介绍\"></a><code>scp</code> 命令介绍</h2><p><code>scp</code> 是使用ssh协议的sftp文件上传方式，可以将文件、文件夹在服务器和本地机器之间互传，在没有图形化客户端的条件还是比较好用的</p>\n</div><div class=\"story post-story\"><h2 id=\"常见使用方法\"><a href=\"#常见使用方法\" class=\"headerlink\" title=\"常见使用方法\"></a>常见使用方法</h2><h3 id=\"从服务器下载文件或者文件夹到本地\"><a href=\"#从服务器下载文件或者文件夹到本地\" class=\"headerlink\" title=\"从服务器下载文件或者文件夹到本地\"></a>从服务器下载文件或者文件夹到本地</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#下载文件</span><br><span class=\"line\">scp  -P 30010 &lt;username&gt;@&lt;hostname&gt;:/data/ToolsetIdeaPlugin-1.0.0.zip .</span><br><span class=\"line\"></span><br><span class=\"line\">#下载文件夹</span><br><span class=\"line\">scp -P 30010 -r  &lt;username&gt;@&lt;hostname&gt;:/data .</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-r</code> 代表下载递归文件夹，如果非文件夹可去掉</p>\n</li>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>命令最后有一个 <code>. </code>表示当前目录的意思。</p>\n</li>\n</ul>\n<h3 id=\"从服务器下载多个文件到本地\"><a href=\"#从服务器下载多个文件到本地\" class=\"headerlink\" title=\"从服务器下载多个文件到本地\"></a>从服务器下载多个文件到本地</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 下载多个文件到当前文件夹</span><br><span class=\"line\">scp -P 30010 &lt;username&gt;@&lt;hostname&gt;:/data/\\&#123;a.md, b.md, c.md\\&#125; .</span><br></pre></td></tr></table></figure>\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>下载服务器上的多个文件，需要放入到 <code>&#123;&#125;</code> 中，用<code>,</code>分割，并且 <code>&#123;&#125;</code> 需要用<code>\\</code>进行转义。</p>\n</li>\n</ul>\n<h3 id=\"从本地上传文件或者文件夹到服务器\"><a href=\"#从本地上传文件或者文件夹到服务器\" class=\"headerlink\" title=\"从本地上传文件或者文件夹到服务器\"></a>从本地上传文件或者文件夹到服务器</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#上传ToolsetIdeaPlugin-1.0.0.zip到服务器上</span><br><span class=\"line\">scp -P 30010 ToolsetIdeaPlugin-1.0.0.zip  &lt;username&gt;@&lt;hostname&gt;:/data</span><br><span class=\"line\"></span><br><span class=\"line\">#上传data文件夹到服务器上</span><br><span class=\"line\">scp -P 30010 -r data  &lt;username&gt;@&lt;hostname&gt;:/data</span><br></pre></td></tr></table></figure>\n\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-r</code> 代表上传递归文件夹，如果非文件夹可去掉</p>\n</li>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n</ul>\n<h3 id=\"从本地上传多个文件到服务器\"><a href=\"#从本地上传多个文件到服务器\" class=\"headerlink\" title=\"从本地上传多个文件到服务器\"></a>从本地上传多个文件到服务器</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -P 30010 a.md b.md c.md  &lt;username&gt;@&lt;hostname&gt;:/data</span><br></pre></td></tr></table></figure>\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>多个文件上传直接使用<code>空格</code>隔开即可</p>\n</li>\n</ul>\n</div><div class=\"story post-story\"><h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p><code>&lt;username&gt;@&lt;hostname&gt;</code> 可以直接使用 <code>~/.ssh/config</code> 中配置的服务器别名来替代,例如：</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ce-001 代表root@101.0.1.1 服务器</span><br><span class=\"line\">scp -P 30010 ToolsetIdeaPlugin-1.0.0.zip  ce-001:/data</span><br></pre></td></tr></table></figure>\n\n\n\n</div>","more":"<h2 id=\"scp-命令介绍\"><a href=\"#scp-命令介绍\" class=\"headerlink\" title=\"scp 命令介绍\"></a><code>scp</code> 命令介绍</h2><p><code>scp</code> 是使用ssh协议的sftp文件上传方式，可以将文件、文件夹在服务器和本地机器之间互传，在没有图形化客户端的条件还是比较好用的</p>\n<h2 id=\"常见使用方法\"><a href=\"#常见使用方法\" class=\"headerlink\" title=\"常见使用方法\"></a>常见使用方法</h2><h3 id=\"从服务器下载文件或者文件夹到本地\"><a href=\"#从服务器下载文件或者文件夹到本地\" class=\"headerlink\" title=\"从服务器下载文件或者文件夹到本地\"></a>从服务器下载文件或者文件夹到本地</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#下载文件</span><br><span class=\"line\">scp  -P 30010 &lt;username&gt;@&lt;hostname&gt;:/data/ToolsetIdeaPlugin-1.0.0.zip .</span><br><span class=\"line\"></span><br><span class=\"line\">#下载文件夹</span><br><span class=\"line\">scp -P 30010 -r  &lt;username&gt;@&lt;hostname&gt;:/data .</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-r</code> 代表下载递归文件夹，如果非文件夹可去掉</p>\n</li>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>命令最后有一个 <code>. </code>表示当前目录的意思。</p>\n</li>\n</ul>\n<h3 id=\"从服务器下载多个文件到本地\"><a href=\"#从服务器下载多个文件到本地\" class=\"headerlink\" title=\"从服务器下载多个文件到本地\"></a>从服务器下载多个文件到本地</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"># 下载多个文件到当前文件夹</span><br><span class=\"line\">scp -P 30010 &lt;username&gt;@&lt;hostname&gt;:/data/\\&#123;a.md, b.md, c.md\\&#125; .</span><br></pre></td></tr></table></figure>\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>下载服务器上的多个文件，需要放入到 <code>&#123;&#125;</code> 中，用<code>,</code>分割，并且 <code>&#123;&#125;</code> 需要用<code>\\</code>进行转义。</p>\n</li>\n</ul>\n<h3 id=\"从本地上传文件或者文件夹到服务器\"><a href=\"#从本地上传文件或者文件夹到服务器\" class=\"headerlink\" title=\"从本地上传文件或者文件夹到服务器\"></a>从本地上传文件或者文件夹到服务器</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#上传ToolsetIdeaPlugin-1.0.0.zip到服务器上</span><br><span class=\"line\">scp -P 30010 ToolsetIdeaPlugin-1.0.0.zip  &lt;username&gt;@&lt;hostname&gt;:/data</span><br><span class=\"line\"></span><br><span class=\"line\">#上传data文件夹到服务器上</span><br><span class=\"line\">scp -P 30010 -r data  &lt;username&gt;@&lt;hostname&gt;:/data</span><br></pre></td></tr></table></figure>\n\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-r</code> 代表上传递归文件夹，如果非文件夹可去掉</p>\n</li>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n</ul>\n<h3 id=\"从本地上传多个文件到服务器\"><a href=\"#从本地上传多个文件到服务器\" class=\"headerlink\" title=\"从本地上传多个文件到服务器\"></a>从本地上传多个文件到服务器</h3><figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">scp -P 30010 a.md b.md c.md  &lt;username&gt;@&lt;hostname&gt;:/data</span><br></pre></td></tr></table></figure>\n<p><em><strong>注意</strong></em>：</p>\n<ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p>多个文件上传直接使用<code>空格</code>隔开即可</p>\n</li>\n</ul>\n<h2 id=\"注意事项\"><a href=\"#注意事项\" class=\"headerlink\" title=\"注意事项\"></a>注意事项</h2><ul>\n<li><p><code>-P</code> 大写的P代表对应host的端口，为了安全考虑，我们一般不会使用22作为ssh的端口</p>\n</li>\n<li><p><code>&lt;username&gt;@&lt;hostname&gt;</code> 可以直接使用 <code>~/.ssh/config</code> 中配置的服务器别名来替代,例如：</p>\n</li>\n</ul>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">#ce-001 代表root@101.0.1.1 服务器</span><br><span class=\"line\">scp -P 30010 ToolsetIdeaPlugin-1.0.0.zip  ce-001:/data</span><br></pre></td></tr></table></figure>","categories":[{"name":"Linux","path":"api/categories/Linux.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"},{"name":"SCP","path":"api/tags/SCP.json"}]}