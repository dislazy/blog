{"title":"更好用的日期工具","slug":"更好用的日期工具","date":"2019-11-17T10:30:03.000Z","updated":"2022-06-02T01:05:59.618Z","comments":true,"path":"api/articles/更好用的日期工具.json","excerpt":"介绍在以往的JAVA开发中，我们只能使用Date作为日期开发的常用工具，但是随着时代的发展，对日期的操作有了更高的需求，Date无法满足，并且使用起来代码比较繁琐，在此情景下，JAVA8引入了新的日期类-LocalDate以及LocalDateTime,新的时间类都是不可变并且线程安全的，下面我们来学一学它的用法。","covers":null,"content":"<h3 id=\"介绍\"><a href=\"#介绍\" class=\"headerlink\" title=\"介绍\"></a>介绍</h3><p>在以往的JAVA开发中，我们只能使用Date作为日期开发的常用工具，但是随着时代的发展，对日期的操作有了更高的需求，Date无法满足，并且使用起来代码比较繁琐，在此情景下，JAVA8引入了新的日期类-LocalDate以及LocalDateTime,新的时间类都是不可变并且线程安全的，下面我们来学一学它的用法。</p>\n<h3 id=\"获取当前时间\"><a href=\"#获取当前时间\" class=\"headerlink\" title=\"获取当前时间\"></a>获取当前时间</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前时间戳</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">Instant</span> <span class=\"variable\">instant</span> <span class=\"operator\">=</span> Instant.now();</span><br><span class=\"line\">    System.out.println(instant);</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前日期</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalDate</span> <span class=\"variable\">localDate</span> <span class=\"operator\">=</span> LocalDate.now();</span><br><span class=\"line\">    System.out.println(localDate);</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前时刻</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalTime</span> <span class=\"variable\">localTime</span> <span class=\"operator\">=</span> LocalTime.now();</span><br><span class=\"line\">    System.out.println(localTime);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前具体时间</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalDateTime</span> <span class=\"variable\">localDateTime</span> <span class=\"operator\">=</span> LocalDateTime.now();</span><br><span class=\"line\">    System.out.println(localDateTime);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取带有时区的时间</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">ZonedDateTime</span> <span class=\"variable\">zonedDateTime</span> <span class=\"operator\">=</span> ZonedDateTime.now();</span><br><span class=\"line\">    System.out.println(zonedDateTime);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"LocalDate与Date及String的相互转化\"><a href=\"#LocalDate与Date及String的相互转化\" class=\"headerlink\" title=\"LocalDate与Date及String的相互转化\"></a>LocalDate与Date及String的相互转化</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 将日期字符串转化为LocalDate</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">str</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;2019-11-17&quot;</span>;</span><br><span class=\"line\">        <span class=\"type\">DateTimeFormatter</span> <span class=\"variable\">formatter</span> <span class=\"operator\">=</span> DateTimeFormatter.ofPattern(<span class=\"string\">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">LocalDate</span> <span class=\"variable\">localDate</span> <span class=\"operator\">=</span> LocalDate.parse(str, formatter);</span><br><span class=\"line\">        System.out.println(localDate);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Date转为LocalDate</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">Date</span> <span class=\"variable\">date</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">        <span class=\"type\">Instant</span> <span class=\"variable\">instant</span> <span class=\"operator\">=</span> date.toInstant();</span><br><span class=\"line\">        <span class=\"type\">ZoneId</span> <span class=\"variable\">zoneId</span> <span class=\"operator\">=</span> ZoneId.systemDefault();</span><br><span class=\"line\">        localDate = instant.atZone(zoneId).toLocalDate();</span><br><span class=\"line\">        System.out.println(localDate);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * LocalDate转成Date</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        localDate = LocalDate.now();</span><br><span class=\"line\">        <span class=\"type\">ZonedDateTime</span> <span class=\"variable\">zdt</span> <span class=\"operator\">=</span> localDate.atStartOfDay(zoneId);</span><br><span class=\"line\">        date = Date.from(zdt.toInstant());</span><br><span class=\"line\">        System.out.println(date);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 时间戳转化为LocalDateTime</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        instant = Instant.ofEpochMilli(System.currentTimeMillis());</span><br><span class=\"line\">        <span class=\"type\">LocalDateTime</span> <span class=\"variable\">localDateTime</span> <span class=\"operator\">=</span> LocalDateTime.ofInstant(instant, ZoneId.systemDefault());</span><br><span class=\"line\">        System.out.println(localDateTime);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * LocalDateTime转化成时间戳</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">LocalDateTime</span> <span class=\"variable\">now</span> <span class=\"operator\">=</span> LocalDateTime.now();</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">beijing</span> <span class=\"operator\">=</span> now.toInstant(ZoneOffset.ofHours(<span class=\"number\">8</span>)).toEpochMilli();</span><br><span class=\"line\">        System.out.println(beijing);</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">nowTime</span> <span class=\"operator\">=</span> now.toInstant(ZoneOffset.of(<span class=\"string\">&quot;+08:00&quot;</span>)).toEpochMilli();</span><br><span class=\"line\">        System.out.println(nowTime);</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">normalTime</span> <span class=\"operator\">=</span> now.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();</span><br><span class=\"line\">        System.out.println(normalTime);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"LocalDate和LocalDateTime的常用方法\"><a href=\"#LocalDate和LocalDateTime的常用方法\" class=\"headerlink\" title=\"LocalDate和LocalDateTime的常用方法\"></a>LocalDate和LocalDateTime的常用方法</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 设置年月日</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">date</span> <span class=\"operator\">=</span> LocalDate.of(<span class=\"number\">2019</span>, <span class=\"number\">11</span>, <span class=\"number\">17</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 设置年月日、时间秒</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDateTime</span> <span class=\"variable\">time</span> <span class=\"operator\">=</span> LocalDateTime.of(date, LocalTime.of(<span class=\"number\">12</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 获取两个日期间间隔的天数</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">dateFrom</span> <span class=\"operator\">=</span> LocalDate.of(<span class=\"number\">2018</span>, <span class=\"number\">11</span>, <span class=\"number\">11</span>);</span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">now</span> <span class=\"operator\">=</span> LocalDate.now();</span><br><span class=\"line\">     <span class=\"type\">long</span> <span class=\"variable\">between</span> <span class=\"operator\">=</span> ChronoUnit.DAYS.between(dateFrom, now);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 判断当前年份是否为闰年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">boolean</span> <span class=\"variable\">leapYear</span> <span class=\"operator\">=</span> LocalDate.now().isLeapYear();</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 100 天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusDays</span> <span class=\"operator\">=</span> now.plusDays(<span class=\"number\">100</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 -100 天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusDays</span> <span class=\"operator\">=</span> now.minusDays(<span class=\"number\">100</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 3 个月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusMonths</span> <span class=\"operator\">=</span> now.plusMonths(<span class=\"number\">3</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 3 个月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusMonths</span> <span class=\"operator\">=</span> now.minusMonths(<span class=\"number\">3</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 1 周</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusWeeks</span> <span class=\"operator\">=</span> now.plusWeeks(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 1 周</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusWeeks</span> <span class=\"operator\">=</span> now.minusWeeks(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 1年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusYears</span> <span class=\"operator\">=</span> now.plusYears(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 1年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusYears</span> <span class=\"operator\">=</span> now.minusYears(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前日期为本月的第19天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withDayOfMonth</span> <span class=\"operator\">=</span> now.withDayOfMonth(<span class=\"number\">19</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换日期为本年的第10天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withDayOfYear</span> <span class=\"operator\">=</span> now.withDayOfYear(<span class=\"number\">10</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前月份为10月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withMonth</span> <span class=\"operator\">=</span> now.withMonth(<span class=\"number\">10</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前年份为 2018年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withYear</span> <span class=\"operator\">=</span> now.withYear(<span class=\"number\">2018</span>);</span><br><span class=\"line\">     </span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"结束语\"><a href=\"#结束语\" class=\"headerlink\" title=\"结束语\"></a>结束语</h3><p>更多更好用的，等你来发掘……</p>\n\n","more":"\n<h3 id=\"获取当前时间\"><a href=\"#获取当前时间\" class=\"headerlink\" title=\"获取当前时间\"></a>获取当前时间</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前时间戳</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">Instant</span> <span class=\"variable\">instant</span> <span class=\"operator\">=</span> Instant.now();</span><br><span class=\"line\">    System.out.println(instant);</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前日期</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalDate</span> <span class=\"variable\">localDate</span> <span class=\"operator\">=</span> LocalDate.now();</span><br><span class=\"line\">    System.out.println(localDate);</span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前时刻</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalTime</span> <span class=\"variable\">localTime</span> <span class=\"operator\">=</span> LocalTime.now();</span><br><span class=\"line\">    System.out.println(localTime);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取当前具体时间</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">LocalDateTime</span> <span class=\"variable\">localDateTime</span> <span class=\"operator\">=</span> LocalDateTime.now();</span><br><span class=\"line\">    System.out.println(localDateTime);</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">     * 获取带有时区的时间</span></span><br><span class=\"line\"><span class=\"comment\">     */</span></span><br><span class=\"line\">    <span class=\"type\">ZonedDateTime</span> <span class=\"variable\">zonedDateTime</span> <span class=\"operator\">=</span> ZonedDateTime.now();</span><br><span class=\"line\">    System.out.println(zonedDateTime);</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"LocalDate与Date及String的相互转化\"><a href=\"#LocalDate与Date及String的相互转化\" class=\"headerlink\" title=\"LocalDate与Date及String的相互转化\"></a>LocalDate与Date及String的相互转化</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 将日期字符串转化为LocalDate</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">String</span> <span class=\"variable\">str</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;2019-11-17&quot;</span>;</span><br><span class=\"line\">        <span class=\"type\">DateTimeFormatter</span> <span class=\"variable\">formatter</span> <span class=\"operator\">=</span> DateTimeFormatter.ofPattern(<span class=\"string\">&quot;yyyy-MM-dd&quot;</span>);</span><br><span class=\"line\">        <span class=\"type\">LocalDate</span> <span class=\"variable\">localDate</span> <span class=\"operator\">=</span> LocalDate.parse(str, formatter);</span><br><span class=\"line\">        System.out.println(localDate);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * Date转为LocalDate</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">Date</span> <span class=\"variable\">date</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Date</span>();</span><br><span class=\"line\">        <span class=\"type\">Instant</span> <span class=\"variable\">instant</span> <span class=\"operator\">=</span> date.toInstant();</span><br><span class=\"line\">        <span class=\"type\">ZoneId</span> <span class=\"variable\">zoneId</span> <span class=\"operator\">=</span> ZoneId.systemDefault();</span><br><span class=\"line\">        localDate = instant.atZone(zoneId).toLocalDate();</span><br><span class=\"line\">        System.out.println(localDate);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * LocalDate转成Date</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        localDate = LocalDate.now();</span><br><span class=\"line\">        <span class=\"type\">ZonedDateTime</span> <span class=\"variable\">zdt</span> <span class=\"operator\">=</span> localDate.atStartOfDay(zoneId);</span><br><span class=\"line\">        date = Date.from(zdt.toInstant());</span><br><span class=\"line\">        System.out.println(date);</span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * 时间戳转化为LocalDateTime</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        instant = Instant.ofEpochMilli(System.currentTimeMillis());</span><br><span class=\"line\">        <span class=\"type\">LocalDateTime</span> <span class=\"variable\">localDateTime</span> <span class=\"operator\">=</span> LocalDateTime.ofInstant(instant, ZoneId.systemDefault());</span><br><span class=\"line\">        System.out.println(localDateTime);</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">         * LocalDateTime转化成时间戳</span></span><br><span class=\"line\"><span class=\"comment\">         */</span></span><br><span class=\"line\">        <span class=\"type\">LocalDateTime</span> <span class=\"variable\">now</span> <span class=\"operator\">=</span> LocalDateTime.now();</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">beijing</span> <span class=\"operator\">=</span> now.toInstant(ZoneOffset.ofHours(<span class=\"number\">8</span>)).toEpochMilli();</span><br><span class=\"line\">        System.out.println(beijing);</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">nowTime</span> <span class=\"operator\">=</span> now.toInstant(ZoneOffset.of(<span class=\"string\">&quot;+08:00&quot;</span>)).toEpochMilli();</span><br><span class=\"line\">        System.out.println(nowTime);</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">normalTime</span> <span class=\"operator\">=</span> now.atZone(ZoneId.systemDefault()).toInstant().toEpochMilli();</span><br><span class=\"line\">        System.out.println(normalTime);</span><br><span class=\"line\">    &#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"LocalDate和LocalDateTime的常用方法\"><a href=\"#LocalDate和LocalDateTime的常用方法\" class=\"headerlink\" title=\"LocalDate和LocalDateTime的常用方法\"></a>LocalDate和LocalDateTime的常用方法</h3><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br><span class=\"line\">61</span><br><span class=\"line\">62</span><br><span class=\"line\">63</span><br><span class=\"line\">64</span><br><span class=\"line\">65</span><br><span class=\"line\">66</span><br><span class=\"line\">67</span><br><span class=\"line\">68</span><br><span class=\"line\">69</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 设置年月日</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">date</span> <span class=\"operator\">=</span> LocalDate.of(<span class=\"number\">2019</span>, <span class=\"number\">11</span>, <span class=\"number\">17</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 设置年月日、时间秒</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDateTime</span> <span class=\"variable\">time</span> <span class=\"operator\">=</span> LocalDateTime.of(date, LocalTime.of(<span class=\"number\">12</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>));</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 获取两个日期间间隔的天数</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">dateFrom</span> <span class=\"operator\">=</span> LocalDate.of(<span class=\"number\">2018</span>, <span class=\"number\">11</span>, <span class=\"number\">11</span>);</span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">now</span> <span class=\"operator\">=</span> LocalDate.now();</span><br><span class=\"line\">     <span class=\"type\">long</span> <span class=\"variable\">between</span> <span class=\"operator\">=</span> ChronoUnit.DAYS.between(dateFrom, now);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 判断当前年份是否为闰年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">boolean</span> <span class=\"variable\">leapYear</span> <span class=\"operator\">=</span> LocalDate.now().isLeapYear();</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 100 天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusDays</span> <span class=\"operator\">=</span> now.plusDays(<span class=\"number\">100</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 -100 天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusDays</span> <span class=\"operator\">=</span> now.minusDays(<span class=\"number\">100</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 3 个月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusMonths</span> <span class=\"operator\">=</span> now.plusMonths(<span class=\"number\">3</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 3 个月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusMonths</span> <span class=\"operator\">=</span> now.minusMonths(<span class=\"number\">3</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 1 周</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusWeeks</span> <span class=\"operator\">=</span> now.plusWeeks(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 1 周</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusWeeks</span> <span class=\"operator\">=</span> now.minusWeeks(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 + 1年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">plusYears</span> <span class=\"operator\">=</span> now.plusYears(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 当前日期 - 1年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">minusYears</span> <span class=\"operator\">=</span> now.minusYears(<span class=\"number\">1</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前日期为本月的第19天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withDayOfMonth</span> <span class=\"operator\">=</span> now.withDayOfMonth(<span class=\"number\">19</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换日期为本年的第10天</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withDayOfYear</span> <span class=\"operator\">=</span> now.withDayOfYear(<span class=\"number\">10</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前月份为10月</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withMonth</span> <span class=\"operator\">=</span> now.withMonth(<span class=\"number\">10</span>);</span><br><span class=\"line\">     <span class=\"comment\">/**</span></span><br><span class=\"line\"><span class=\"comment\">      * 替换当前年份为 2018年</span></span><br><span class=\"line\"><span class=\"comment\">      */</span></span><br><span class=\"line\">     <span class=\"type\">LocalDate</span> <span class=\"variable\">withYear</span> <span class=\"operator\">=</span> now.withYear(<span class=\"number\">2018</span>);</span><br><span class=\"line\">     </span><br><span class=\"line\"> &#125;</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"结束语\"><a href=\"#结束语\" class=\"headerlink\" title=\"结束语\"></a>结束语</h3><p>更多更好用的，等你来发掘……</p>\n\n","categories":[{"name":"Java","path":"api/categories/Java.json"}],"tags":[{"name":"Java","path":"api/tags/Java.json"}]}